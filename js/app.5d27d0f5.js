(function(t){function e(e){for(var n,s,o=e[0],u=e[1],l=e[2],h=0,f=[];h<o.length;h++)s=o[h],i[s]&&f.push(i[s][0]),i[s]=0;for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(t[n]=u[n]);c&&c(e);while(f.length)f.shift()();return a.push.apply(a,l||[]),r()}function r(){for(var t,e=0;e<a.length;e++){for(var r=a[e],n=!0,o=1;o<r.length;o++){var u=r[o];0!==i[u]&&(n=!1)}n&&(a.splice(e--,1),t=s(s.s=r[0]))}return t}var n={},i={app:0},a=[];function s(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=t,s.c=n,s.d=function(t,e,r){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(r,n,function(e){return t[e]}.bind(null,n));return r},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/reversi/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],u=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var c=u;a.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"034f":function(t,e,r){"use strict";var n=r("64a9"),i=r.n(n);i.a},"33f7":function(t,e,r){"use strict";var n=r("484b"),i=r.n(n);i.a},"484b":function(t,e,r){},"4e77":function(t,e,r){},5255:function(t,e,r){"use strict";var n=r("6ad2"),i=r.n(n);i.a},"56d7":function(t,e,r){"use strict";r.r(e);r("cadf"),r("551c"),r("f751"),r("097d");var n=r("2b0e"),i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"app"}},[r("Reversi")],1)},a=[],s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"reversi-container"},[r("GameBoard",{attrs:{game:t.game},on:{play:t.play}}),r("GameOver",{attrs:{game:t.game},on:{restart:t.restart}})],1)},o=[],u=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",t._l(t.height,function(e){return r("div",{key:"row"+e,staticClass:"game-board-row"},t._l(t.width,function(n){return r("GameBoardSquare",{key:"square"+e+"-"+n,attrs:{disk:t.board[e-1][n-1]},on:{play:function(r){return t.play([e-1,n-1])}}})}),1)}),0)},l=[],c=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"square",class:{hint:t.isHint},on:{click:t.handleClick}},[r("span",[t._v("\n    "+t._s(t.disk.char)+"\n  ")])])},h=[],f=r("d225"),d=r("b0b4"),v="⚪",p="⚫",y={light:1,empty:0,dark:-1,hint:.5},m=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;Object(f["a"])(this,t),this.value=e}return Object(d["a"])(t,[{key:"char",get:function(){return this.value>0?v:this.value<0?p:""}}]),t}(),g=m,b={props:{disk:{type:Object,required:!0}},computed:{isHint:function(){return Math.abs(this.disk.value)===y.hint}},methods:{handleClick:function(){this.isHint&&this.$emit("play")}}},k=b,w=(r("be79"),r("2877")),x=Object(w["a"])(k,c,h,!1,null,null,null),O=x.exports,_={components:{GameBoardSquare:O},props:{game:{type:Object,default:function(){return null}}},computed:{width:function(){return this.game?this.game.width:0},height:function(){return this.game?this.game.height:0},board:function(){return this.game?this.game.board:0}},methods:{play:function(t){this.$emit("play",t)}}},P=_,j=(r("6e33"),Object(w["a"])(P,u,l,!1,null,null,null)),A=j.exports,D=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.isGameOver?r("div",{staticClass:"floating-container"},[r("div",{staticClass:"game-over-modal",on:{click:t.handleClick}},[r("div",[t._v("Game Over")]),t.isDraw?r("div",[t._v("Draw")]):r("div",[t._v(t._s(t.game.winner.char)+" wins !")]),r("div",[t._v(t._s(t.game.score.light)+" - "+t._s(t.game.score.dark))])])]):t._e()},M=[],S={props:{game:{type:Object,default:function(){return null}}},computed:{isGameOver:function(){return this.game&&this.game.currentPlayerDisk===y.empty},isDraw:function(){return this.game&&this.game.winner.value===y.empty}},methods:{handleClick:function(){this.$emit("restart")}}},V=S,C=(r("5255"),Object(w["a"])(V,D,M,!1,null,null,null)),E=C.exports,T=r("75fc"),G=(r("0b21"),r("ac4d"),r("8a81"),r("ac6a"),r("96cf"),r("5df3"),r("1c4c"),r("bd86")),$=Object(G["a"])({northWest:[-1,-1],north:[-1,0],northEast:[-1,1],east:[0,1],west:[0,-1],southWest:[1,-1],south:[1,0],southEast:[1,1]},Symbol.iterator,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.northWest;case 2:return t.next=4,this.north;case 4:return t.next=6,this.northEast;case 6:return t.next=8,this.east;case 8:return t.next=10,this.west;case 10:return t.next=12,this.southWest;case 12:return t.next=14,this.south;case 14:return t.next=16,this.southEast;case 16:case"end":return t.stop()}},t,this)})),F=function(){function t(){var e=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8;Object(f["a"])(this,t),this.height=r>4?r:4,this.width=n>4?n:4,this.board=Array.from(new Array(this.height),function(t){return new Array(e.width)});for(var i=0;i<this.height;i++)for(var a=0;a<this.width;a++)this.board[i][a]=new g;this.currentPlayerDisk=y.empty,this.reset()}return Object(d["a"])(t,[{key:"positions",value:regeneratorRuntime.mark(function t(){var e,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:e=0;case 1:if(!(e<this.height)){t.next=12;break}r=0;case 3:if(!(r<this.width)){t.next=9;break}return t.next=6,[e,r];case 6:r++,t.next=3;break;case 9:e++,t.next=1;break;case 12:case"end":return t.stop()}},t,this)})},{key:"getValueAt",value:function(t){return this.board[t[0]][t[1]].value}},{key:"setValueAt",value:function(t,e){this.board[t[0]][t[1]].value=e}},{key:"reset",value:function(){var t=!0,e=!1,r=void 0;try{for(var n,i=this.positions()[Symbol.iterator]();!(t=(n=i.next()).done);t=!0){var a=n.value;this.setValueAt(a,y.empty)}}catch(u){e=!0,r=u}finally{try{t||null==i.return||i.return()}finally{if(e)throw r}}var s=(this.height-1)/2,o=(this.width-1)/2;this.setValueAt([Math.floor(s),Math.floor(o)],y.light),this.setValueAt([Math.floor(s),Math.ceil(o)],y.dark),this.setValueAt([Math.ceil(s),Math.floor(o)],y.dark),this.setValueAt([Math.ceil(s),Math.ceil(o)],y.light),this.currentPlayerDisk=y.dark}},{key:"clearHints",value:function(){var t=!0,e=!1,r=void 0;try{for(var n,i=this.positions()[Symbol.iterator]();!(t=(n=i.next()).done);t=!0){var a=n.value,s=this.getValueAt(a);this.setValueAt(a,Math.sign(s)*Math.floor(Math.abs(s)))}}catch(o){e=!0,r=o}finally{try{t||null==i.return||i.return()}finally{if(e)throw r}}}},{key:"walkFromPositionInDirection",value:regeneratorRuntime.mark(function t(e,r){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(e=e.map(function(t,e){return t+r[e]}),!(e[0]>=0&&e[1]>=0&&e[0]<this.height&&e[1]<this.width)){t.next=7;break}return t.next=5,e;case 5:t.next=8;break;case 7:return t.abrupt("break",10);case 8:t.next=0;break;case 10:case"end":return t.stop()}},t,this)})},{key:"disksToFlipFromPositionInDirection",value:function(t,e){var r=!1,n=-1*this.currentPlayerDisk,i=[],a=!0,s=!1,o=void 0;try{for(var u,l=this.walkFromPositionInDirection(t,e)[Symbol.iterator]();!(a=(u=l.next()).done);a=!0){var c=u.value,h=this.getValueAt(c);if(h!==n)return r&&h===this.currentPlayerDisk?i:[];r=!0,i.push(c)}}catch(f){s=!0,o=f}finally{try{a||null==l.return||l.return()}finally{if(s)throw o}}return[]}},{key:"isPlayable",value:function(t){if(this.getValueAt(t)===y.empty){var e=!0,r=!1,n=void 0;try{for(var i,a=$[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){var s=i.value;if(this.disksToFlipFromPositionInDirection(t,s).length>0)return!0}}catch(o){r=!0,n=o}finally{try{e||null==a.return||a.return()}finally{if(r)throw n}}}return!1}},{key:"addAndCountHints",value:function(){var t=0,e=!0,r=!1,n=void 0;try{for(var i,a=this.positions()[Symbol.iterator]();!(e=(i=a.next()).done);e=!0){var s=i.value;this.isPlayable(s)&&(this.setValueAt(s,y.hint*this.currentPlayerDisk),t++)}}catch(o){r=!0,n=o}finally{try{e||null==a.return||a.return()}finally{if(r)throw n}}return t}},{key:"play",value:function(t){var e=this,r=[t],n=!0,i=!1,a=void 0;try{for(var s,o=$[Symbol.iterator]();!(n=(s=o.next()).done);n=!0){var u=s.value;r.push.apply(r,Object(T["a"])(this.disksToFlipFromPositionInDirection(t,u)))}}catch(l){i=!0,a=l}finally{try{n||null==o.return||o.return()}finally{if(i)throw a}}r.forEach(function(t){e.setValueAt(t,e.currentPlayerDisk)}),this.currentPlayerDisk*=-1}},{key:"prepareNextTurn",value:function(){this.clearHints();var t=this.addAndCountHints();return 0===t&&(this.currentPlayerDisk*=-1,t=this.addAndCountHints(),0===t&&(this.currentPlayerDisk=y.empty)),this.currentPlayerDisk}},{key:"score",get:function(){var t=0,e=0,r=!0,n=!1,i=void 0;try{for(var a,s=this.positions()[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var o=a.value,u=this.getValueAt(o);u===y.light?e++:u===y.dark&&t++}}catch(l){n=!0,i=l}finally{try{r||null==s.return||s.return()}finally{if(n)throw i}}return{light:e,dark:t}}},{key:"winner",get:function(){var t=this.score,e=t.dark,r=t.light,n=y.empty;return e>r?n=y.dark:e<r&&(n=y.light),new g(n)}}]),t}(),H=F,R={components:{GameBoard:A,GameOver:E},data:function(){return{game:void 0}},methods:{play:function(t){this.game.play(t),this.game.prepareNextTurn()},restart:function(){this.game.reset(),this.game.prepareNextTurn()}},mounted:function(){this.game=new H,this.game.prepareNextTurn()}},q=R,I=(r("33f7"),Object(w["a"])(q,s,o,!1,null,null,null)),B=I.exports,N={name:"app",components:{Reversi:B}},W=N,J=(r("034f"),Object(w["a"])(W,i,a,!1,null,null,null)),z=J.exports;n["a"].config.productionTip=!1,new n["a"]({render:function(t){return t(z)}}).$mount("#app")},"64a9":function(t,e,r){},"66f5":function(t,e,r){},"6ad2":function(t,e,r){},"6e33":function(t,e,r){"use strict";var n=r("4e77"),i=r.n(n);i.a},be79:function(t,e,r){"use strict";var n=r("66f5"),i=r.n(n);i.a}});
//# sourceMappingURL=app.5d27d0f5.js.map